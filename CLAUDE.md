# CLAUDE.md

このファイルは、このリポジトリでコードを操作する際にClaude Code (claude.ai/code) にガイダンスを提供します。

## プロジェクト概要

これは**TurboRepoとpnpmを使用したモノレポ**として構築された技術ブログプロジェクトです。このブログは日本語圏の開発者をターゲットとし、英語サポートも予定しており、ターミナル/コンソール風デザインテーマを特徴としています。

**現在のステータス**: フェーズ1 - プロジェクト基盤構築（基本的なモノレポ構造を確立）

## パッケージマネージャー & ビルドシステム

- **パッケージマネージャー**: pnpm 10.12.1
- **モノレポツール**: TurboRepo 2.5.4
- **ターゲットフレームワーク**: Next.js 15+ with App Router（予定）

### 共通コマンド

現在利用可能:
```bash
# pnpmバージョン確認
pnpm --version

# 依存関係のインストール（パッケージ追加時）
pnpm install

# 将来のTurboRepoコマンド（パッケージ作成後）:
# pnpm turbo build    # 全パッケージをビルド
# pnpm turbo lint     # 全パッケージをリント
# pnpm turbo dev      # 開発サーバーを起動
```

**注意**: 実際のアプリケーションパッケージがまだ作成されていないため、ほとんどの開発コマンドはまだ利用できません。

## アーキテクチャ & 構造

### 現在の構造
```
my-blog-with-claude-code/
├── package.json           # ルートパッケージ設定
├── turbo.json            # TurboRepoパイプライン設定
├── pnpm-workspace.yaml   # ワークスペースパッケージ定義
├── TODO.md               # 8段階の包括的開発ロードマップ
└── memo/
    └── setup-decisions.md # セットアップ決定ドキュメント
```

### 計画された構造 (フェーズ 1.2)
```
my-blog-with-claude-code/
├── apps/
│   └── blog/             # Next.js 15+ メインブログアプリケーション
├── packages/
│   ├── ui/               # 共有UIコンポーネント
│   ├── utils/            # 共有ユーティリティ
│   ├── config/           # 共有設定 & 型定義
│   └── docs/             # ドキュメントパッケージ
└── tools/                # 開発ツール
```

## 開発ワークフロー

### パイプライン設定 (turbo.json)
- **build**: Next.js出力キャッシュを伴う依存ビルド (`.next/**` キャッシュを除く)
- **lint**: パッケージ間でのカスケードlint実行
- **dev**: キャッシュなしの永続開発サーバー
- **globalDependencies**: 環境ファイル (`**/.env.*local`)

### 次の直近タスク (フェーズ 1.1)
1. **1.1.3** TypeScript設定 (ストリクトモード)
2. **1.1.4** Oxlint + ESLint + Prettier設定
3. **1.1.5** lefthook設定
4. **1.1.6** commitlint設定 (コミットメッセージ規約)

### フェーズ1.2の主要タスク
- **1.2.1** apps/blog ディレクトリ作成 (Next.js 15 App Router)
- **1.2.2-1.2.5** packages (ui/utils/config/docs) パッケージ作成
- **1.2.6** 各パッケージ間の依存関係設定

## 主要機能 (予定)

### デザインシステム
- ダークモード対応のターミナル/コンソール風テーマ
- カスタムカラーパレットを伴うTailwind CSS
- 等幅フォント
- カスタムブレークポイントでのレスポンシブデザイン

### コンテンツ管理
- シンタックスハイライト付きMDXベースコンテンツ
- 自動目次生成
- タグ・カテゴリシステム
- fuse.jsを使用した検索機能
- 多言語対応 (日本語/英語)

### 技術的機能
- 自動OGP生成でのSEO最適化
- 包括的なアクセシビリティ対応 (WCAG AA準拠、スクリーンリーダー対応、キーボードナビゲーション)
- コメントシステム連携 (giscus)
- Next.js 15機能でのパフォーマンス最適化
- 多言語対応 (next-intl)

### 開発・品質保証機能
- **MCPサーバー**: デザインシステム管理・自動生成
- **包括的テスト**: Vitest + Testing Library, Playwright E2E, Visual Regression
- **開発ツール**: Storybook による UI コンポーネントドキュメント
- **CI/CD**: GitHub Actions + Vercel デプロイメント
- **監視**: Sentry エラー監視、Google Analytics 4

## ドキュメント参照

- **TODO.md**: 約120の具体タスクを含む8段階の完全な開発ロードマップ
- **memo/setup-decisions.md**: 理由付きの詳細なセットアップ決定事項
- **TECHNICAL_BLOG_REQUIREMENTS.md**: アーカイブ済み (TODO.mdに統合)

## 開発ノート

- このプロジェクトは包括的なリント、フォーマット、コミットメッセージ規約を伴う**厳格な開発プラクティス**を使用します
- 主要な決定はすべてmemo/ディレクトリにドキュメント化されています
- TODO.mdファイルが主要な開発ロードマップとして機能し、タスクの優先順位付けに参照すべきです
- **コミット前**: 進捗を追跡するため、TODO.mdで完了したTODOを`[x]`でマークして常に更新してください
- パッケージ構造は明確な関心の分離を伴う現代的なモノレポベストプラクティスに従います