---
slug: dependency-management-strategies
title: ãƒ¢ãƒãƒ¬ãƒã§ã®ä¾å­˜é–¢ä¿‚ç®¡ç†æˆ¦ç•¥ï¼š5ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒæ¯”è¼ƒ
authors: [tsuka-ryu]
tags: [pnpm, monorepo, dependency-management, renovate, automation]
---

# ãƒ¢ãƒãƒ¬ãƒã§ã®ä¾å­˜é–¢ä¿‚ç®¡ç†æˆ¦ç•¥ï¼š5ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒæ¯”è¼ƒ

pnpm + TurboRepoã®ãƒ¢ãƒãƒ¬ãƒç’°å¢ƒã§ã€ä¾å­˜é–¢ä¿‚ã‚’åŠ¹ç‡çš„ã«ç®¡ç†ã™ã‚‹5ã¤ã®æˆ¦ç•¥ã‚’æ¯”è¼ƒæ¤œè¨ã—ã¾ã™ã€‚

<!-- truncate -->

## 1. ğŸ¤– Renovate Botï¼ˆæ¨å¥¨ï¼‰

**æœ€ã‚‚é«˜æ©Ÿèƒ½ã§è‡ªå‹•åŒ–ã«å„ªã‚ŒãŸé¸æŠè‚¢**

```json title=".github/renovate.json"
{
  "extends": ["config:base"],
  "schedule": ["before 9am on monday"],
  "packageRules": [
    {
      "matchFileNames": ["pnpm-workspace.yaml"],
      "commitMessagePrefix": "chore(deps): update catalog - ",
      "groupName": "pnpm catalog"
    }
  ],
  "pnpm": {
    "supportedManagers": ["pnpm"]
  }
}
```

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- pnpm catalogå®Œå…¨å¯¾å¿œ
- è©³ç´°ãªã‚°ãƒ«ãƒ¼ãƒ—åŒ–ãƒ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆè‡ªå‹•åŒ–
- PRä½œæˆãƒ»è‡ªå‹•ãƒãƒ¼ã‚¸æ©Ÿèƒ½

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- åˆæœŸè¨­å®šãŒè¤‡é›‘
- GitHub Appã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦

---

## 2. ğŸ”§ Dependabotï¼ˆGitHubæ¨™æº–ï¼‰

**GitHubãƒã‚¤ãƒ†ã‚£ãƒ–ã§è¨­å®šãŒç°¡å˜**

```yaml title=".github/dependabot.yml"
version: 2
updates:
  - package-ecosystem: 'npm'
    directory: '/'
    schedule:
      interval: 'weekly'
    open-pull-requests-limit: 10
```

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- GitHubæ¨™æº–æ©Ÿèƒ½
- è¨­å®šãŒç°¡å˜
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¯¾å¿œ

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- pnpm catalogæœªå¯¾å¿œ
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ãŒä½ã„

---

## 3. ğŸ“œ pnpmã‚¹ã‚¯ãƒªãƒ—ãƒˆ + cron

**è»½é‡ã§ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**

```json title="package.json"
{
  "scripts": {
    "deps:check": "pnpm outdated --recursive",
    "deps:update": "pnpm update --latest --recursive",
    "deps:audit": "pnpm audit --recursive"
  }
}
```

**ä½¿ç”¨ä¾‹**ï¼š

```bash
# é€±æ¬¡ãƒã‚§ãƒƒã‚¯
pnpm deps:check
pnpm deps:audit

# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ›´æ–°
pnpm update --interactive --latest
```

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- è¿½åŠ ä¾å­˜ãªã—
- å®Œå…¨ãªåˆ¶å¾¡ãŒå¯èƒ½
- CI/CDã¨ã®çµ±åˆãŒå®¹æ˜“

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- æ‰‹å‹•å®Ÿè¡ŒãŒå¿…è¦
- è‡ªå‹•åŒ–ã«ã¯cronè¨­å®šãŒå¿…è¦

---

## 4. âœ… æ‰‹å‹•ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

**ç¢ºå®Ÿã§å®‰å…¨ãªæ‰‹å‹•ç®¡ç†**

```bash title="é€±æ¬¡ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ"
# 1. ä¾å­˜é–¢ä¿‚ã®ç¢ºèª
pnpm outdated --recursive

# 2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»
pnpm audit --recursive

# 3. ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ›´æ–°
pnpm update --interactive --latest

# 4. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm turbo test lint check-types

# 5. ãƒ“ãƒ«ãƒ‰ç¢ºèª
pnpm turbo build
```

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- å®Œå…¨ãªåˆ¶å¾¡
- ç ´å£Šçš„å¤‰æ›´ã®äº‹å‰ç¢ºèª
- å­¦ç¿’ã‚³ã‚¹ãƒˆãªã—

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- æ‰‹å‹•ä½œæ¥­ãŒå¿…è¦
- å¿˜ã‚Œã‚„ã™ã„
- ã‚¹ã‚±ãƒ¼ãƒ«ã—ãªã„

---

## 5. ğŸ”Œ IDEæ‹¡å¼µæ©Ÿèƒ½

**é–‹ç™ºä¸­ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¢ºèª**

**VS Code**ï¼š

- `Version Lens` - package.jsonã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±è¡¨ç¤º
- `npm Intellisense` - ä¾å­˜é–¢ä¿‚ã®è£œå®Œ

**WebStorm**ï¼š

- å†…è”µä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚«ãƒ¼
- package.jsonã§ã®æ›´æ–°é€šçŸ¥

**ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¢ºèª
- é–‹ç™ºãƒ•ãƒ­ãƒ¼ã«çµ±åˆ
- è¦–è¦šçš„ã«ã‚ã‹ã‚Šã‚„ã™ã„

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**ï¼š

- å€‹äººã®é–‹ç™ºç’°å¢ƒä¾å­˜
- ãƒãƒ¼ãƒ å…¨ä½“ã§ã®çµ±ä¸€ãŒå›°é›£

---

## ğŸ“Š æ¯”è¼ƒè¡¨

| æ‰‹æ³•           | è‡ªå‹•åŒ–     | pnpm catalogå¯¾å¿œ | è¨­å®šè¤‡é›‘åº¦ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | æ¨å¥¨åº¦     |
| -------------- | ---------- | ---------------- | ---------- | ------------ | ---------- |
| Renovate Bot   | â­â­â­â­â­ | â­â­â­â­â­       | â­â­â­     | â­â­â­â­â­   | â­â­â­â­â­ |
| Dependabot     | â­â­â­â­   | â­â­             | â­â­â­â­â­ | â­â­â­â­     | â­â­â­     |
| pnpmã‚¹ã‚¯ãƒªãƒ—ãƒˆ | â­â­       | â­â­â­â­â­       | â­â­â­â­   | â­â­â­       | â­â­â­â­   |
| æ‰‹å‹•ãƒã‚§ãƒƒã‚¯   | â­         | â­â­â­â­â­       | â­â­â­â­â­ | â­â­â­â­     | â­â­       |
| IDEæ‹¡å¼µ        | â­         | â­â­             | â­â­â­â­â­ | â­â­         | â­â­       |

---

## ğŸ¯ æ¨å¥¨æˆ¦ç•¥

### å¤§è¦æ¨¡ãƒãƒ¼ãƒ ãƒ»æœ¬æ ¼é‹ç”¨

**Renovate Bot** + æ‰‹å‹•ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã®çµ„ã¿åˆã‚ã›

### å°è¦æ¨¡ãƒãƒ¼ãƒ ãƒ»å­¦ç¿’ç›®çš„

**pnpmã‚¹ã‚¯ãƒªãƒ—ãƒˆ** + é€±æ¬¡æ‰‹å‹•ãƒã‚§ãƒƒã‚¯

### å€‹äººé–‹ç™ºãƒ»ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—

**IDEæ‹¡å¼µæ©Ÿèƒ½** + æœˆæ¬¡æ‰‹å‹•ãƒã‚§ãƒƒã‚¯

---

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- [pnpm catalogå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://pnpm.io/catalogs)
- [Renovate Botè¨­å®šã‚¬ã‚¤ãƒ‰](https://docs.renovatebot.com/)
- [GitHub Dependabotè¨­å®š](https://docs.github.com/en/code-security/dependabot)

---

**ã¾ã¨ã‚**ï¼špnpm catalogã¨ã®ç›¸æ€§ã€è‡ªå‹•åŒ–ãƒ¬ãƒ™ãƒ«ã€ãƒãƒ¼ãƒ è¦æ¨¡ã‚’è€ƒæ…®ã—ã¦æœ€é©ãªæˆ¦ç•¥ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚ç‰¹ã«**Renovate Bot**ã¯ãƒ¢ãƒãƒ¬ãƒã§ã®ä¾å­˜é–¢ä¿‚ç®¡ç†ã«ãŠã„ã¦æœ€ã‚‚åŒ…æ‹¬çš„ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¾ã™ã€‚
